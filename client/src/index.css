@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
@import "tailwindcss";

@layer base {
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: 'Space Grotesk', -apple-system, sans-serif;
    font-size: 16px;
    background: #000000;
    color: rgba(255, 255, 255, 0.6);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
    overflow: hidden;
  }

  ::-webkit-scrollbar {
    width: 3px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.06);
    border-radius: 99px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.13);
  }

  input,
  textarea,
  button {
    font-family: 'Space Grotesk', sans-serif;
    font-size: inherit;
  }
}

/* Grid moved to a React fixed div in MainApp.jsx (aria-hidden grid layer).
   body::before was being covered by the React root div's black background on mount,
   causing the flash-then-disappear bug. */

/* ── Ambient depth glow ──────────────────────────────── */
body::after {
  content: '';
  position: fixed;
  top: -20%;
  left: 20%;
  width: 900px;
  height: 700px;
  background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.010) 0%, transparent 65%);
  pointer-events: none;
  z-index: 0;
}

/* ── Glass Panel (sidebar only) ───────────────────────── */
.panel {
  background: rgba(255, 255, 255, 0.026);
  backdrop-filter: blur(32px) saturate(110%);
  -webkit-backdrop-filter: blur(32px) saturate(110%);
  border: 1px solid rgba(255, 255, 255, 0.052);
  border-radius: 1.75rem;
  position: relative;
  z-index: 1;
}

/* ── Modal glass ─────────────────────────────────────── */
.profile-glass {
  background: rgba(5, 5, 5, 0.92);
  backdrop-filter: blur(48px) saturate(150%);
  -webkit-backdrop-filter: blur(48px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 1.5rem;
}

/* ── Serif Brand Font ─────────────────────────────────── */
.font-serif-brand {
  font-family: 'Playfair Display', Georgia, serif;
}

/* ── Pill Input ──────────────────────────────────────── */
.pill-input {
  background: rgba(255, 255, 255, 0.036);
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: 999px;
  color: rgba(255, 255, 255, 0.80);
  transition: all 0.22s ease;
  outline: none;
}

.pill-input::placeholder {
  color: rgba(255, 255, 255, 0.18);
}

.pill-input:focus {
  background: rgba(255, 255, 255, 0.055);
  border-color: rgba(255, 255, 255, 0.24);
  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.04),
    inset 0 0 14px rgba(255, 255, 255, 0.02);
}

/* ── Pill Buttons ────────────────────────────────────── */
.pill-btn {
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  font-weight: 500;
  transition: all 0.22s ease;
  cursor: pointer;
  color: rgba(255, 255, 255, 0.40);
}

.pill-btn:hover {
  border-color: rgba(255, 255, 255, 0.20);
  background: rgba(255, 255, 255, 0.05);
  color: rgba(255, 255, 255, 0.80);
}

.pill-btn-primary {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.16);
  color: rgba(255, 255, 255, 0.84);
}

.pill-btn-primary:hover {
  background: rgba(255, 255, 255, 0.13);
  border-color: rgba(255, 255, 255, 0.30);
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.07);
  color: rgba(255, 255, 255, 0.97);
}

.pill-btn-primary:disabled {
  opacity: 0.30;
  cursor: not-allowed;
}

/* ── Nav item (channel / DM thread buttons) ──────────── */
.nav-item {
  position: relative;
  border-radius: 999px;
  transition: all 0.18s ease;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.28);
  text-align: left;
}

.nav-item:hover {
  color: rgba(255, 255, 255, 0.62);
  background: rgba(255, 255, 255, 0.030);
}

.nav-item.active {
  color: rgba(255, 255, 255, 0.90);
  border-color: rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.052);
  box-shadow: inset 0 0 12px rgba(255, 255, 255, 0.04),
    0 0 10px rgba(255, 255, 255, 0.025);
}

/* ── Rail icon (server rail buttons) ──────────────────── */
.rail-icon {
  position: relative;
  width: 2.75rem;
  height: 2.75rem;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.22s ease;
  color: rgba(255, 255, 255, 0.24);
  border: 1px solid transparent;
  cursor: pointer;
  z-index: 2;
}

.rail-icon:hover {
  color: rgba(255, 255, 255, 0.68);
  background: rgba(255, 255, 255, 0.038);
}

.rail-icon.active {
  color: rgba(255, 255, 255, 0.92);
  border-color: rgba(255, 255, 255, 0.16);
  background: rgba(255, 255, 255, 0.065);
  box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.05),
    0 0 12px rgba(255, 255, 255, 0.04);
}

/* ── Invite pill: vibrant violet, pulsing glow ─────────── */
.invite-pill {
  background: rgba(110, 80, 240, 0.18);
  border: 1px solid rgba(130, 100, 255, 0.4);
  color: rgba(185, 165, 255, 0.95);
  box-shadow: 0 0 18px rgba(110, 80, 240, 0.25);
  animation: inviteGlow 2.8s ease-in-out infinite;
}

.invite-pill:hover {
  background: rgba(110, 80, 240, 0.3);
  border-color: rgba(150, 120, 255, 0.65);
  box-shadow: 0 0 28px rgba(110, 80, 240, 0.45);
  animation: none;
}

@keyframes inviteGlow {

  0%,
  100% {
    box-shadow: 0 0 18px rgba(110, 80, 240, 0.25);
  }

  50% {
    box-shadow: 0 0 32px rgba(110, 80, 240, 0.55);
  }
}

/* ── Tooltips — fixed so they never get clipped ───────── */
[data-tip] {
  position: relative;
}

[data-tip]:hover .tip {
  opacity: 1;
  transform: translateX(0);
}

/* JS-driven tooltip (see Tip component) */
.tip-bubble {
  position: fixed;
  z-index: 9999;
  background: rgba(10, 10, 10, 0.95);
  border: 1px solid rgba(255, 255, 255, 0.08);
  color: rgba(255, 255, 255, 0.75);
  font-family: 'Space Grotesk', sans-serif;
  font-size: 0.72rem;
  letter-spacing: 0.02em;
  white-space: nowrap;
  padding: 5px 12px;
  border-radius: 999px;
  pointer-events: none;
  transition: opacity 0.15s ease;
}

/* ── Emoji bar ───────────────────────────────────────── */
.emoji-bar {
  background: rgba(8, 8, 8, 0.94);
  backdrop-filter: blur(24px);
  border: 1px solid rgba(255, 255, 255, 0.07);
  border-radius: 999px;
}

/* ── Reaction pill ───────────────────────────────────── */
.reaction-pill {
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.07);
  background: rgba(255, 255, 255, 0.028);
  transition: all 0.18s ease;
}

.reaction-pill:hover {
  border-color: rgba(255, 255, 255, 0.20);
  background: rgba(255, 255, 255, 0.07);
}

.reaction-pill.active {
  border-color: rgba(255, 255, 255, 0.28);
  background: rgba(255, 255, 255, 0.10);
  color: rgba(255, 255, 255, 0.94);
}

/* ── Message group tightening ────────────────────────── */
.msg-group {
  margin-top: 0.375rem;
}

/* consecutive from same user */
.msg-new {
  margin-top: 2rem;
}

/* new speaker */

/* ── Animate in ──────────────────────────────────────── */
@keyframes msgIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.msg-in {
  animation: msgIn 0.22s cubic-bezier(0.16, 1, 0.3, 1);
}

/* ── Typing dots ─────────────────────────────────────── */
@keyframes pulse-dot {

  0%,
  100% {
    opacity: 0.2;
    transform: scale(0.72);
  }

  50% {
    opacity: 0.9;
    transform: scale(1.12);
  }
}